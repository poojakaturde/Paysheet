<div class="container-fluid pb-4">
    <button [routerLink]="'create-project'" type="button" class="btn btn-info btn-lg data-font wh-text"
        style="float: right">
        Create Project
    </button>
</div>

<div class=" mat-elevation-z0 px-3 " style="margin:2%">
    <table mat-table [dataSource]="dataSource" matSort class="table table-hover">
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef class="heading-style">Name</th>
            <td mat-cell *matCellDef="let element" class="data-font">{{ element.name }}</td>
        </ng-container>

        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef class="heading-style">Status</th>
            <td mat-cell *matCellDef="let element" class="data-font">
                {{ element.status == true ? "Active" : "Inactive" }}
            </td>
        </ng-container>

        <ng-container matColumnDef="admin">
            <th mat-header-cell *matHeaderCellDef class="heading-style">Admin</th>
            <td mat-cell *matCellDef="let element" class="data-font">{{ element.admin }}</td>
        </ng-container>

        <ng-container matColumnDef="manager">
            <th mat-header-cell *matHeaderCellDef class="heading-style">Manager</th>
            <td mat-cell *matCellDef="let element" class="data-font">{{ element.manager }}</td>
        </ng-container>

        <ng-container matColumnDef="tasks">
            <th mat-header-cell *matHeaderCellDef class="heading-style">Tasks</th>
            <td mat-cell *matCellDef="let element" class="data-font">
                <ul>
                    <li *ngFor="let task of element.tasks">
                        {{task.task}}
                    </li>
                </ul>
            </td>
        </ng-container>

        <ng-container matColumnDef="sdate">
            <th mat-header-cell *matHeaderCellDef class="heading-style">Start Date</th>
            <td mat-cell *matCellDef="let element" class="data-font">{{ element.sdate | date : 'longDate'}}</td>
        </ng-container>

        <ng-container matColumnDef="edate">
            <th mat-header-cell *matHeaderCellDef class="heading-style">End Date</th>
            <td mat-cell *matCellDef="let element" class="data-font">{{ element.edate | date : 'longDate' }}</td>
        </ng-container>

        <ng-container matColumnDef="role">
            <th mat-header-cell *matHeaderCellDef class="heading-style">Role</th>
            <td mat-cell *matCellDef="let element" class="data-font">
                <ul>
                    <li *ngFor="let role of element.role">
                        {{role.role}}

                        <ul *ngFor="let user of role.users">
                            <li>
                                {{user}}
                            </li>
                        </ul>
                    </li>
                </ul>
            </td>
        </ng-container>

        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="heading-style">
                Action
            </th>
            <td mat-cell *matCellDef="let element">
                <i class="material-icons" style="cursor: pointer" [routerLink]="'edit-project'"
                    (click)="editData(element)">edit</i>&nbsp;

                <i class="material-symbols-outlined" style="cursor: pointer"
                    (click)="deleteProject(element)">delete</i>&nbsp;
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[3, 5, 10]" showFirstLastButtons aria-label="Select page of periodic elements">
    </mat-paginator>
</div>